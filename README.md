# Songs Semantic Analysis Framework

This framework computes semantic similarity matrices of songs over years using multiple methods and models.

## Songs JSON Format

The dataset should be structured as a dictionary where **each key is a year** (as a string), and the value is a list of song entries for that year. Each song entry is a dictionary. The **only required fields** are:

| Key | Type | Description |
|-----|------|-------------|
| `song` | string | Full song name including performer(s) (e.g., `"Achille Togliani - Mai più"`). |
| `text` | string | Full lyrics of the song. |

Optional fields:

| Key | Type | Description |
|-----|------|-------------|
| `title` | string | Song title only (e.g., `"Mai più"`). |
| `authors` | string | Comma- or dash-separated names of the authors/composers. |
| `performers` | string | Names of the performers. |
| `text_link` | string | URL to the source of the lyrics. |
| `segments` | list of strings | Segments or lines of the song lyrics (split for easier processing). If not provided, the framework will automatically generate these segments from the full text. |
| `topics` | string or list of strings | Optional thematic labels or keywords for the song. Can be provided or automatically generated by the framework. Example as a single string with newlines: `"Amore finito\nDelusione amorosa\nRicordi del passato\nDecisione di non amare più\nIncapacità di dimenticare\nFortuna e amore\nSperanza perduta"` |

### Example

```json
{
  "1951": [
    {
      "song": "Achille Togliani - Mai più",
      "title": "Mai più",
      "authors": "Fuselli - Rolando",
      "performers": "Achille Togliani",
      "text": "Felicitá, dolce amor, primavera...\nOra è finita...",
      "text_link": "https://www.leparoledisanremo.it/canzoni/mai-piu/",
      "segments": [
        "Felicitá, dolce amor, primavera...",
        "Ora è finita: cosa resta in me?...",
        "Quindi mai, mai più, mai più d'amare tenterò..."
      ],
      "topics": "Amore finito\nDelusione amorosa\nRicordi del passato\nDecisione di non amare più\nIncapacità di dimenticare\nFortuna e amore\nSperanza perduta"
    },
    {
      "song": "Achille Togliani - Mani che si cercano",
      "title": "Mani che si cercano",
      "authors": "Redi - Colombi",
      "performers": "Achille Togliani",
      "text": "Vorrei la vita fermar, con te per sempre restar...",
      "text_link": "https://www.leparoledisanremo.it/canzoni/mani-che-si-cercano/"
      // segments and topics can be omitted; the framework will generate them automatically
    }
  ]
}
```

## Credentials JSON Format

The framework requires a JSON file containing API keys for the services you want to use. The structure is as follows:

```json
{
  "openai": {
    "api_key": "YOUR_OPENAI_API_KEY"
  },
  "gemini": {
    "api_key": "YOUR_GEMINI_API_KEY"
  }
}
```

Note: The OpenAI API key can also be provided with Azure by specifying the API version and endpoint, for example:

```json
{
  "openai": {
    "api_key": "YOUR_API_KEY",
    "api_version": "2024-06-01",
    "azure_endpoint": "https://your-custom-endpoint.openai.azure.com/"
  }
}
```

